<!--mat-card class="landing-welcome-card">
  <mat-card-content>
      <div class="left-content custom">
          <div class="content">
              <mat-card-title>
                  {{'ADMIN_DASHBOARD.TITLE' | translate}}
              </mat-card-title>
              <mat-card-subtitle>
                  {{'ADMIN_DASHBOARD.CARD_CONTENT' | translate}}
              </mat-card-subtitle>
          </div>
      </div>
      <div class="action-links custom">
          <a class="dashboard-links" [routerLink]="['/app/establishment']">
              <mat-icon class="vertical-align-middle" matTooltip="{{'ADMIN_DASHBOARD.LINK.NEW_RESTAURANT' | translate}}">store</mat-icon>
              {{'ADMIN_DASHBOARD.LINK.NEW_RESTAURANT' | translate}}
          </a>
          <a class="dashboard-links" [routerLink]="['/app/collaborators']">
              <mat-icon class="vertical-align-middle" matTooltip="{{'ADMIN_DASHBOARD.LINK.NEW_COLLABORATOR' | translate}}">person</mat-icon>
              {{'ADMIN_DASHBOARD.LINK.NEW_COLLABORATOR' | translate}}
          </a>
      </div>
  </mat-card-content>
</mat-card>

<mat-card *ngFor="let establishment of _establishments | async" class="custom-cards">
  <div>
      <span class="mat-card-title title">{{establishment.name}}</span>
      <span class="mat-card-subtitle">{{establishment.address}}</span>
  </div>
  <mat-card-content>
      <ul class="list">
          <li>
              <mat-icon style="color: #81C784;" class="vertical-align-middle" matTooltip="{{'ADMIN_DASHBOARD.SALES' | translate}}">local_atm</mat-icon>
              <label>{{getDailySales( establishment._id)}} {{getEstablishmentCurrency( establishment.currencyId )}}</label>
          </li>
          <li>
              <mat-icon style="color: #90CAF9;" class="vertical-align-middle" matTooltip="{{'ADMIN_DASHBOARD.USERS' | translate}}">person</mat-icon>
              <label>{{getEstablishmentUsers( establishment._id )}} {{'ADMIN_DASHBOARD.USERS' | translate}}</label>
          </li>
          <li>
              <mat-icon style="color: #81C784;" class="vertical-align-middle" matTooltip="{{'ADMIN_DASHBOARD.FREE' | translate}}">check</mat-icon>
              <label>{{getTablesWithFreeStatus( establishment._id )}} {{'ADMIN_DASHBOARD.FREE' | translate}}</label>
          </li>
          <li>
              <mat-icon style="color: #EF5350;" class="vertical-align-middle" matTooltip="{{'ADMIN_DASHBOARD.BUSY' | translate}}">not_interested</mat-icon>
              <label>{{getTablesWithBusyStatus( establishment._id )}} {{'ADMIN_DASHBOARD.BUSY' | translate}}</label>
          </li>
          <li>
              <mat-icon style="color: #FDD835;" class="vertical-align-middle" matTooltip="{{'ADMIN_DASHBOARD.ITEMS' | translate}}">thumb_up</mat-icon>
              <label>{{getItemsSold( establishment._id )}} {{'ADMIN_DASHBOARD.ITEMS' | translate}}</label>
          </li>
      </ul>
  </mat-card-content>
</mat-card>

<mat-card mat-cell="12" class="demo-card demo-basic" *ngIf="(_establishments | async)?.length <= 0">
  <mat-card-content>
      <div class="card_initial">
          <div class="card_initial has-image">
              <div class="card_initial-image-container">
                  <img class="card_initial-image" 
                      src="/images/restaurante.png"/>
              </div>
              <div class="card_initial-copy">
                  <div class="card_initial-tagline">
                      {{'ADMIN_DASHBOARD.THERE_NOT_RESTAURANTS' | translate}}
                  </div>
                  <div class="card_initial-additional-links">
                    {{'ADMIN_DASHBOARD.MESSAGE' | translate}}
                  </div>
              </div>
          </div>
      </div>
  </mat-card-content>
</mat-card-->

<mat-card *ngFor="let establishment of _establishments | async">
    <mat-card-header>
        <img mat-card-avatar *ngIf="establishment.image" src="{{establishment.image.url }}">
        <img mat-card-avatar *ngIf="!establishment.image" src="/images/default-restaurant.png">
        <mat-card-title>{{establishment.name}} -
            <span *ngIf="getEstablishmentPoints(establishment._id) > 0" style="font-weight: bold;color: green;font-size: large;">{{getEstablishmentPoints(establishment._id)}} {{'ADMIN_DASHBOARD.AVAILABLE_POINTS' | translate}}</span>
            <span *ngIf="getEstablishmentPoints(establishment._id) <= 0" style="font-weight: bold;color: red;font-size: large;">{{getEstablishmentPoints(establishment._id)}} {{'ADMIN_DASHBOARD.AVAILABLE_POINTS' | translate}}</span>
        </mat-card-title>
        <mat-card-subtitle>{{establishment.address}}</mat-card-subtitle>
    </mat-card-header>

    <mat-card-content>
        <div class="layout-row">
            <div class="section" (click)="goToRewardUnitsCharts(establishment._id)">
                <label>{{'ADMIN_DASHBOARD.REWARDS' | translate}}</label>
                <div class="view">
                    {{'VIEW' | translate}}
                </div>
            </div>
            <div class="section" (click)="goToRewardHistoryCharts(establishment._id)">
                <label>{{'ADMIN_DASHBOARD.REWARDS_HISTORY' | translate}}</label>
                <div class="view">
                    {{'VIEW' | translate}}
                </div>
            </div>
        </div>
    </mat-card-content>
</mat-card>