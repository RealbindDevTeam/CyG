<ion-header>
    <ion-navbar>
        <ion-title>{{'MOBILE.REWARDS.TITLE' | translate}}</ion-title>
    </ion-navbar>
</ion-header>

<ion-content text-wrap>
    <div *ngIf="!_showEstablishments" style="padding: 0 16px;">
        <div class="img">
            <img src="assets/img/payments-history.png">
        </div>
        <div class="content">
            <h1>{{'MOBILE.REWARDS.NO_REWARDS_MSG' | translate}}</h1>
        </div>
    </div>
    <!--h6 *ngIf="_showEstablishments" style="margin: 20px;text-align: center">
        {{'MOBILE.REWARDS.MSG' | translate}}
    </h6-->

    <div *ngIf="_showEstablishments" [hidden]="_hiddenDiv" padding class="page-title">
        <span>{{'MOBILE.REWARDS.MSG' | translate}}</span>
        <button id="close" class="close-btn" (click)="hiddenDiv()">
            <ion-icon name="close"></ion-icon>
        </button>
    </div>
    
    <div *ngIf="_showEstablishments" class="main">
        <span *ngFor="let establishment_medal of _establishmentMedals | async">
            <span *ngFor="let _establishment of _establishments | async">
                <span *ngIf="establishment_medal.establishment_id === _establishment._id && establishment_medal.medals > 0">
                    <ion-list style="margin: 0 auto; box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);">
                        <button ion-item (click)="openRewardList(_establishment._id)">
                            <ion-thumbnail item-left>
                                <img *ngIf="_establishment.image" src="{{ _establishment.image.url }}">
                                <img *ngIf="!_establishment.image" src="assets/img/default-restaurant.png">
                            </ion-thumbnail>
                            <h2>{{_establishment.name}}</h2>
                            <p>{{_establishment.address}}</p>
                            <p style="font-weight: bold;color: #4CAF50">{{establishment_medal.medals}} {{'MOBILE.REWARDS.ACCUMULATED_MEDALS' | translate}}</p>
                        </button>
                    </ion-list>
                    <br/>
                </span>
            </span>
        </span>
    </div>
</ion-content>